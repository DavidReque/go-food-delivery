#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ• Husky: Running pre-push hooks..."

# Run comprehensive tests
echo "ğŸ§ª Running comprehensive tests..."
go test -v -race -cover ./...

# Run integration tests if available
if [ -f "docker-compose.test.yml" ]; then
    echo "ğŸ³ Running integration tests..."
    docker-compose -f docker-compose.test.yml up --abort-on-container-exit --exit-code-from test
fi

echo "âœ… Pre-push hooks completed successfully!"
